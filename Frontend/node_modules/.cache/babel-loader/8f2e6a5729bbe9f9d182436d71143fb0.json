{"ast":null,"code":"import { orderService } from '../services/order.service.js';\nexport function setMediaLink(mediaLink) {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: 'SET_MEDIA_LINK',\n        mediaLink\n      });\n    } catch (err) {\n      console.log('Name Actions: err in loaded Names', err);\n    }\n  };\n}\nexport function setMediaType(mediaName) {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: 'SELECTED_MEDIA_TYPE',\n        mediaName\n      });\n    } catch (err) {\n      console.log('Order Actions: err in set order', err);\n    }\n  };\n}\nexport function setOrderDetails(orderDetails) {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: 'SET_ORDER',\n        orderDetails\n      });\n    } catch (err) {\n      console.log('Actions: err in set order', err);\n    }\n  };\n}\nexport function orderCompleted(orderDetails) {\n  return async dispatch => {\n    try {\n      const orderId = await orderService.saveOrder(orderDetails);\n      const cardComLink = await orderService.charge('testp', 105.2, orderId);\n      const lowProfile = getLowProfileCode(cardComLink);\n      orderService.updateOrder({\n        orderId,\n        lowProfile\n      });\n      dispatch({\n        type: 'SET_CARDCOME_LINK',\n        cardComLink\n      });\n    } catch (err) {\n      console.log('Actions: err in set order', err);\n    }\n  };\n}\n\nconst getLowProfileCode = data => {\n  const codeStart = data.indexOf(\"LowProfileCode=\");\n  const lowProfileCodeClean = data.substr(codeStart + 15, data.length - 1);\n  return lowProfileCodeClean;\n};","map":{"version":3,"sources":["/Users/dana/Desktop/TapTouch/Frontend/src/store/action.js"],"names":["orderService","setMediaLink","mediaLink","dispatch","type","err","console","log","setMediaType","mediaName","setOrderDetails","orderDetails","orderCompleted","orderId","saveOrder","cardComLink","charge","lowProfile","getLowProfileCode","updateOrder","data","codeStart","indexOf","lowProfileCodeClean","substr","length"],"mappings":"AAAA,SACIA,YADJ,QAEO,8BAFP;AAIA,OAAO,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AACpC,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAE,gBADD;AAELF,QAAAA;AAFK,OAAD,CAAR;AAIH,KALD,CAKE,OAAOG,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDF,GAAjD;AACH;AACJ,GATD;AAUH;AACD,OAAO,SAASG,YAAT,CAAsBC,SAAtB,EAAiC;AACpC,SAAO,MAAMN,QAAN,IAAkB;AACrB,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAE,qBADD;AAELK,QAAAA;AAFK,OAAD,CAAR;AAIH,KALD,CAKE,OAAOJ,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CF,GAA/C;AACH;AACJ,GATD;AAUH;AACD,OAAO,SAASK,eAAT,CAAyBC,YAAzB,EAAuC;AAC1C,SAAO,MAAMR,QAAN,IAAkB;AACrB,QAAI;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAE,WADD;AAELO,QAAAA;AAFK,OAAD,CAAR;AAIH,KALD,CAKE,OAAON,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,GAAzC;AACH;AACJ,GATD;AAUH;AACD,OAAO,SAASO,cAAT,CAAwBD,YAAxB,EAAsC;AACzC,SAAO,MAAMR,QAAN,IAAkB;AACrB,QAAI;AACA,YAAMU,OAAO,GAAG,MAAMb,YAAY,CAACc,SAAb,CAAuBH,YAAvB,CAAtB;AACA,YAAMI,WAAW,GAAG,MAAMf,YAAY,CAACgB,MAAb,CAAoB,OAApB,EAA6B,KAA7B,EAAoCH,OAApC,CAA1B;AACA,YAAMI,UAAU,GAAGC,iBAAiB,CAACH,WAAD,CAApC;AACAf,MAAAA,YAAY,CAACmB,WAAb,CAAyB;AACrBN,QAAAA,OADqB;AAErBI,QAAAA;AAFqB,OAAzB;AAIAd,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAE,mBADD;AAELW,QAAAA;AAFK,OAAD,CAAR;AAIH,KAZD,CAYE,OAAOV,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,GAAzC;AACH;AACJ,GAhBD;AAiBH;;AACD,MAAMa,iBAAiB,GAAIE,IAAD,IAAU;AAChC,QAAMC,SAAS,GAAGD,IAAI,CAACE,OAAL,CAAa,iBAAb,CAAlB;AACA,QAAMC,mBAAmB,GAAGH,IAAI,CAACI,MAAL,CAAYH,SAAS,GAAG,EAAxB,EAA4BD,IAAI,CAACK,MAAL,GAAc,CAA1C,CAA5B;AACA,SAAOF,mBAAP;AACH,CAJD","sourcesContent":["import {\n    orderService\n} from '../services/order.service.js';\n\nexport function setMediaLink(mediaLink) {\n    return async dispatch => {\n        try {\n            dispatch({\n                type: 'SET_MEDIA_LINK',\n                mediaLink\n            });\n        } catch (err) {\n            console.log('Name Actions: err in loaded Names', err);\n        }\n    };\n}\nexport function setMediaType(mediaName) {\n    return async dispatch => {\n        try {\n            dispatch({\n                type: 'SELECTED_MEDIA_TYPE',\n                mediaName\n            });\n        } catch (err) {\n            console.log('Order Actions: err in set order', err);\n        }\n    };\n}\nexport function setOrderDetails(orderDetails) {\n    return async dispatch => {\n        try {\n            dispatch({\n                type: 'SET_ORDER',\n                orderDetails\n            });\n        } catch (err) {\n            console.log('Actions: err in set order', err);\n        }\n    };\n}\nexport function orderCompleted(orderDetails) {\n    return async dispatch => {\n        try {\n            const orderId = await orderService.saveOrder(orderDetails);\n            const cardComLink = await orderService.charge('testp', 105.2, orderId);\n            const lowProfile = getLowProfileCode(cardComLink);\n            orderService.updateOrder({\n                orderId,\n                lowProfile\n            })\n            dispatch({\n                type: 'SET_CARDCOME_LINK',\n                cardComLink\n            });\n        } catch (err) {\n            console.log('Actions: err in set order', err);\n        }\n    };\n}\nconst getLowProfileCode = (data) => {\n    const codeStart = data.indexOf(\"LowProfileCode=\");\n    const lowProfileCodeClean = data.substr(codeStart + 15, data.length - 1);\n    return lowProfileCodeClean;\n};"]},"metadata":{},"sourceType":"module"}