{"ast":null,"code":"import { storageService } from \"./order-storage.service.js\";\nimport { httpService } from \"./http.service.js\";\nconst STORAGE_KEY = \"orders\";\nexport const orderService = {\n  saveOrder,\n  charge,\n  getPaymentDetails,\n  getOrderById,\n  updateLowProfile\n}; //CHOOSE localstorageService OR httpService\n\nasync function saveOrder(order) {\n  console.log(\"service front order\", order); // return await storageService.post(STORAGE_KEY, order);\n\n  return httpService.post(\"order/\", order);\n}\n\nasync function updateLowProfile(orderId, lowProfile) {\n  const data = {\n    orderId,\n    lowProfile\n  };\n  return await httpService.put('update-order/', data);\n}\n\nasync function getOrderById(orderId) {\n  console.log('front service order id', orderId); // return await storageService.get(STORAGE_KEY, orderId);\n\n  return await httpService.get(`order/${orderId}`);\n}\n\nasync function charge(_productName, _price, orderId) {\n  const params = {\n    TerminalNumber: 1000,\n    Operation: 1,\n    UserName: \"barak9611\",\n    SumToBill: _price,\n    CoinId: 1,\n    Language: \"he\",\n    ProductName: _productName,\n    APILevel: 10,\n    Codepage: 65001,\n    SuccessRedirectUrl: `http://localhost:3000/#/payment/success?orderId=${orderId}`,\n    ErrorRedirectUrl: \"http://www.ynet.co.il\",\n    IndicatorUrl: \"http://www.site.com/hide.aspx\"\n  };\n  const data = `TerminalNumber=${params.TerminalNumber}&Operation=1&UserName=${params.UserName}&SumToBill=${params.SumToBill}&CoinId=${params.CoinId}&Language=${params.Language}&ProductName=${params.ProductName}&APILevel=10&Codepage=65001&SuccessRedirectUrl=${params.SuccessRedirectUrl}&ErrorRedirectUrl=${params.ErrorRedirectUrl}&IndicatorUrl=http://www.site.com/hide.aspx`;\n  const endPoint = \"https://secure.cardcom.solutions/Interface/LowProfile.aspx\";\n  return httpService.post(endPoint, data);\n}\n\nasync function getPaymentDetails(lowProfileCode) {\n  console.log('getPaymentDetails order.service');\n  const params = {\n    TerminalNumber: 1000,\n    UserName: \"barak9611\",\n    LowProfileCode: lowProfileCode\n  };\n  const data = `TerminalNumber=${params.TerminalNumber}&username=${params.UserName}&lowprofilecode=${params.LowProfileCode}`;\n  const endPoint = \"https://secure.cardcom.solutions/Interface/BillGoldGetLowProfileIndicator.aspx\";\n  return httpService.post(endPoint, data);\n} // async function savePaymentDetails()","map":{"version":3,"sources":["/Users/dana/Desktop/TapTouch/Frontend/src/services/order.service.js"],"names":["storageService","httpService","STORAGE_KEY","orderService","saveOrder","charge","getPaymentDetails","getOrderById","updateLowProfile","order","console","log","post","orderId","lowProfile","data","put","get","_productName","_price","params","TerminalNumber","Operation","UserName","SumToBill","CoinId","Language","ProductName","APILevel","Codepage","SuccessRedirectUrl","ErrorRedirectUrl","IndicatorUrl","endPoint","lowProfileCode","LowProfileCode"],"mappings":"AAAA,SACIA,cADJ,QAEO,4BAFP;AAGA,SACIC,WADJ,QAEO,mBAFP;AAIA,MAAMC,WAAW,GAAG,QAApB;AAEA,OAAO,MAAMC,YAAY,GAAG;AACxBC,EAAAA,SADwB;AAExBC,EAAAA,MAFwB;AAGxBC,EAAAA,iBAHwB;AAIxBC,EAAAA,YAJwB;AAKxBC,EAAAA;AALwB,CAArB,C,CAQP;;AACA,eAAeJ,SAAf,CAAyBK,KAAzB,EAAgC;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,KAAnC,EAD4B,CAE5B;;AACA,SAAOR,WAAW,CAACW,IAAZ,CAAiB,QAAjB,EAA2BH,KAA3B,CAAP;AAEH;;AACD,eAAeD,gBAAf,CAAgCK,OAAhC,EAAyCC,UAAzC,EAAoD;AAChD,QAAMC,IAAI,GAAG;AACTF,IAAAA,OADS;AAETC,IAAAA;AAFS,GAAb;AAIE,SAAO,MAAMb,WAAW,CAACe,GAAZ,CAAgB,eAAhB,EAAgCD,IAAhC,CAAb;AACH;;AACH,eAAeR,YAAf,CAA4BM,OAA5B,EAAqC;AACjCH,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCE,OAAtC,EADiC,CAEjC;;AACA,SAAO,MAAMZ,WAAW,CAACgB,GAAZ,CAAiB,SAAQJ,OAAQ,EAAjC,CAAb;AACH;;AAED,eAAeR,MAAf,CAAsBa,YAAtB,EAAoCC,MAApC,EAA4CN,OAA5C,EAAqD;AACjD,QAAMO,MAAM,GAAG;AACXC,IAAAA,cAAc,EAAE,IADL;AAEXC,IAAAA,SAAS,EAAE,CAFA;AAGXC,IAAAA,QAAQ,EAAE,WAHC;AAIXC,IAAAA,SAAS,EAAEL,MAJA;AAKXM,IAAAA,MAAM,EAAE,CALG;AAMXC,IAAAA,QAAQ,EAAE,IANC;AAOXC,IAAAA,WAAW,EAAET,YAPF;AAQXU,IAAAA,QAAQ,EAAE,EARC;AASXC,IAAAA,QAAQ,EAAE,KATC;AAUXC,IAAAA,kBAAkB,EAAG,mDAAkDjB,OAAQ,EAVpE;AAWXkB,IAAAA,gBAAgB,EAAE,uBAXP;AAYXC,IAAAA,YAAY,EAAE;AAZH,GAAf;AAeA,QAAMjB,IAAI,GAAI,kBAAiBK,MAAM,CAACC,cAAe,yBAAwBD,MAAM,CAACG,QAAS,cAAaH,MAAM,CAACI,SAAU,WAAUJ,MAAM,CAACK,MAAO,aAAYL,MAAM,CAACM,QAAS,gBAAeN,MAAM,CAACO,WAAY,kDAAiDP,MAAM,CAACU,kBAAmB,qBAAoBV,MAAM,CAACW,gBAAiB,6CAAxU;AACA,QAAME,QAAQ,GAAG,4DAAjB;AACA,SAAOhC,WAAW,CAACW,IAAZ,CAAiBqB,QAAjB,EAA2BlB,IAA3B,CAAP;AACH;;AAGD,eAAeT,iBAAf,CAAiC4B,cAAjC,EAAiD;AAC7CxB,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACA,QAAMS,MAAM,GAAG;AACXC,IAAAA,cAAc,EAAE,IADL;AAEXE,IAAAA,QAAQ,EAAE,WAFC;AAGXY,IAAAA,cAAc,EAAGD;AAHN,GAAf;AAMA,QAAMnB,IAAI,GAAI,kBAAiBK,MAAM,CAACC,cAAe,aAAYD,MAAM,CAACG,QAAS,mBAAkBH,MAAM,CAACe,cAAe,EAAzH;AACA,QAAMF,QAAQ,GAAG,gFAAjB;AACA,SAAOhC,WAAW,CAACW,IAAZ,CAAiBqB,QAAjB,EAA2BlB,IAA3B,CAAP;AACH,C,CAED","sourcesContent":["import {\n    storageService\n} from \"./order-storage.service.js\";\nimport {\n    httpService\n} from \"./http.service.js\";\n\nconst STORAGE_KEY = \"orders\";\n\nexport const orderService = {\n    saveOrder,\n    charge,\n    getPaymentDetails,\n    getOrderById,\n    updateLowProfile\n};\n\n//CHOOSE localstorageService OR httpService\nasync function saveOrder(order) {\n    console.log(\"service front order\", order);\n    // return await storageService.post(STORAGE_KEY, order);\n    return httpService.post(\"order/\", order);\n\n}\nasync function updateLowProfile(orderId, lowProfile){\n    const data = {\n        orderId,\n        lowProfile\n    }\n      return await httpService.put('update-order/',data);\n  }\nasync function getOrderById(orderId) {\n    console.log('front service order id', orderId);\n    // return await storageService.get(STORAGE_KEY, orderId);\n    return await httpService.get(`order/${orderId}`);\n}\n\nasync function charge(_productName, _price, orderId) {\n    const params = {\n        TerminalNumber: 1000,\n        Operation: 1,\n        UserName: \"barak9611\",\n        SumToBill: _price,\n        CoinId: 1,\n        Language: \"he\",\n        ProductName: _productName,\n        APILevel: 10,\n        Codepage: 65001,\n        SuccessRedirectUrl: `http://localhost:3000/#/payment/success?orderId=${orderId}`,\n        ErrorRedirectUrl: \"http://www.ynet.co.il\",\n        IndicatorUrl: \"http://www.site.com/hide.aspx\",\n    };\n\n    const data = `TerminalNumber=${params.TerminalNumber}&Operation=1&UserName=${params.UserName}&SumToBill=${params.SumToBill}&CoinId=${params.CoinId}&Language=${params.Language}&ProductName=${params.ProductName}&APILevel=10&Codepage=65001&SuccessRedirectUrl=${params.SuccessRedirectUrl}&ErrorRedirectUrl=${params.ErrorRedirectUrl}&IndicatorUrl=http://www.site.com/hide.aspx`;\n    const endPoint = \"https://secure.cardcom.solutions/Interface/LowProfile.aspx\";\n    return httpService.post(endPoint, data);\n}\n\n\nasync function getPaymentDetails(lowProfileCode) {\n    console.log('getPaymentDetails order.service');\n    const params = {\n        TerminalNumber: 1000,\n        UserName: \"barak9611\",\n        LowProfileCode : lowProfileCode\n    };\n\n    const data = `TerminalNumber=${params.TerminalNumber}&username=${params.UserName}&lowprofilecode=${params.LowProfileCode}`;\n    const endPoint = \"https://secure.cardcom.solutions/Interface/BillGoldGetLowProfileIndicator.aspx\";\n    return httpService.post(endPoint, data);\n}\n\n// async function savePaymentDetails()"]},"metadata":{},"sourceType":"module"}