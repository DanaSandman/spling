{"ast":null,"code":"import { storageService } from \"./order-storage.service.js\";\nimport { httpService } from \"./http.service.js\";\nconst STORAGE_KEY = \"orders\";\nexport const orderService = {\n  saveOrder,\n  charge,\n  getPaymentDetails,\n  getOrderById,\n  updateOrder\n}; //CHOOSE localstorageService OR httpService\n\nasync function saveOrder(order) {\n  console.log(\"service front order\", order); // return await storageService.post(STORAGE_KEY, order);\n\n  return httpService.post(\"order/\", order);\n}\n\nasync function updateOrder(data) {\n  return await httpService.put(\"order/\", data);\n}\n\nasync function getOrderById(orderId) {\n  console.log('front service order id', orderId); // return await storageService.get(STORAGE_KEY, orderId);\n\n  return await httpService.get(`order/${orderId}`);\n} //API CARDCOM\n\n\nasync function charge(_productName, _price, orderId) {\n  console.log('order service orderId', orderId);\n  const params = {\n    TerminalNumber: 1000,\n    Operation: 1,\n    UserName: \"barak9611\",\n    SumToBill: _price,\n    CoinId: 1,\n    Language: \"he\",\n    ProductName: _productName,\n    APILevel: 10,\n    Codepage: 65001,\n    SuccessRedirectUrl: `http://localhost:3000/#/payment/success/${orderId}`,\n    ErrorRedirectUrl: \"http://www.ynet.co.il\",\n    IndicatorUrl: \"http://www.site.com/hide.aspx\"\n  };\n  const data = `TerminalNumber=${params.TerminalNumber}&Operation=1&UserName=${params.UserName}&SumToBill=${params.SumToBill}&CoinId=${params.CoinId}&Language=${params.Language}&ProductName=${params.ProductName}&APILevel=10&Codepage=65001&SuccessRedirectUrl=${params.SuccessRedirectUrl}&ErrorRedirectUrl=${params.ErrorRedirectUrl}&IndicatorUrl=http://www.site.com/hide.aspx`;\n  const endPoint = \"https://secure.cardcom.solutions/Interface/LowProfile.aspx\";\n  return httpService.post(endPoint, data);\n}\n\nasync function getPaymentDetails(lowProfileCode) {\n  console.log('getPaymentDetails order.service', lowProfileCode);\n  const params = {\n    TerminalNumber: 1000,\n    UserName: \"barak9611\",\n    LowProfileCode: lowProfileCode\n  };\n  const data = `TerminalNumber=${params.TerminalNumber}&username=${params.UserName}&lowprofilecode=${params.LowProfileCode}`;\n  const endPoint = \"https://secure.cardcom.solutions/Interface/BillGoldGetLowProfileIndicator.aspx\";\n  return httpService.post(endPoint, data);\n}","map":{"version":3,"sources":["/Users/dana/Desktop/spling/Frontend/src/services/order.service.js"],"names":["storageService","httpService","STORAGE_KEY","orderService","saveOrder","charge","getPaymentDetails","getOrderById","updateOrder","order","console","log","post","data","put","orderId","get","_productName","_price","params","TerminalNumber","Operation","UserName","SumToBill","CoinId","Language","ProductName","APILevel","Codepage","SuccessRedirectUrl","ErrorRedirectUrl","IndicatorUrl","endPoint","lowProfileCode","LowProfileCode"],"mappings":"AAAA,SACIA,cADJ,QAEO,4BAFP;AAGA,SACIC,WADJ,QAEO,mBAFP;AAIA,MAAMC,WAAW,GAAG,QAApB;AAEA,OAAO,MAAMC,YAAY,GAAG;AACxBC,EAAAA,SADwB;AAExBC,EAAAA,MAFwB;AAGxBC,EAAAA,iBAHwB;AAIxBC,EAAAA,YAJwB;AAKxBC,EAAAA;AALwB,CAArB,C,CAQP;;AACA,eAAeJ,SAAf,CAAyBK,KAAzB,EAAgC;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,KAAnC,EAD4B,CAE5B;;AACA,SAAOR,WAAW,CAACW,IAAZ,CAAiB,QAAjB,EAA2BH,KAA3B,CAAP;AAEH;;AACD,eAAeD,WAAf,CAA2BK,IAA3B,EAAgC;AAC5B,SAAO,MAAMZ,WAAW,CAACa,GAAZ,CAAgB,QAAhB,EAAyBD,IAAzB,CAAb;AACH;;AACD,eAAeN,YAAf,CAA4BQ,OAA5B,EAAqC;AACjCL,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCI,OAAtC,EADiC,CAEjC;;AACA,SAAO,MAAMd,WAAW,CAACe,GAAZ,CAAiB,SAAQD,OAAQ,EAAjC,CAAb;AACH,C,CACD;;;AACA,eAAeV,MAAf,CAAsBY,YAAtB,EAAoCC,MAApC,EAA4CH,OAA5C,EAAqD;AACjDL,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCI,OAApC;AAEA,QAAMI,MAAM,GAAG;AACXC,IAAAA,cAAc,EAAE,IADL;AAEXC,IAAAA,SAAS,EAAE,CAFA;AAGXC,IAAAA,QAAQ,EAAE,WAHC;AAIXC,IAAAA,SAAS,EAAEL,MAJA;AAKXM,IAAAA,MAAM,EAAE,CALG;AAMXC,IAAAA,QAAQ,EAAE,IANC;AAOXC,IAAAA,WAAW,EAAET,YAPF;AAQXU,IAAAA,QAAQ,EAAE,EARC;AASXC,IAAAA,QAAQ,EAAE,KATC;AAUXC,IAAAA,kBAAkB,EAAG,2CAA0Cd,OAAQ,EAV5D;AAWXe,IAAAA,gBAAgB,EAAE,uBAXP;AAYXC,IAAAA,YAAY,EAAE;AAZH,GAAf;AAeA,QAAMlB,IAAI,GAAI,kBAAiBM,MAAM,CAACC,cAAe,yBAAwBD,MAAM,CAACG,QAAS,cAAaH,MAAM,CAACI,SAAU,WAAUJ,MAAM,CAACK,MAAO,aAAYL,MAAM,CAACM,QAAS,gBAAeN,MAAM,CAACO,WAAY,kDAAiDP,MAAM,CAACU,kBAAmB,qBAAoBV,MAAM,CAACW,gBAAiB,6CAAxU;AACA,QAAME,QAAQ,GAAG,4DAAjB;AACA,SAAO/B,WAAW,CAACW,IAAZ,CAAiBoB,QAAjB,EAA2BnB,IAA3B,CAAP;AACH;;AACD,eAAeP,iBAAf,CAAiC2B,cAAjC,EAAiD;AAC7CvB,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA8CsB,cAA9C;AACA,QAAMd,MAAM,GAAG;AACXC,IAAAA,cAAc,EAAE,IADL;AAEXE,IAAAA,QAAQ,EAAE,WAFC;AAGXY,IAAAA,cAAc,EAAGD;AAHN,GAAf;AAMA,QAAMpB,IAAI,GAAI,kBAAiBM,MAAM,CAACC,cAAe,aAAYD,MAAM,CAACG,QAAS,mBAAkBH,MAAM,CAACe,cAAe,EAAzH;AACA,QAAMF,QAAQ,GAAG,gFAAjB;AACA,SAAO/B,WAAW,CAACW,IAAZ,CAAiBoB,QAAjB,EAA2BnB,IAA3B,CAAP;AACH","sourcesContent":["import {\n    storageService\n} from \"./order-storage.service.js\";\nimport {\n    httpService\n} from \"./http.service.js\";\n\nconst STORAGE_KEY = \"orders\";\n\nexport const orderService = {\n    saveOrder,\n    charge,\n    getPaymentDetails,\n    getOrderById,\n    updateOrder\n};\n\n//CHOOSE localstorageService OR httpService\nasync function saveOrder(order) {\n    console.log(\"service front order\", order);\n    // return await storageService.post(STORAGE_KEY, order);\n    return httpService.post(\"order/\", order);\n\n}\nasync function updateOrder(data){\n    return await httpService.put(\"order/\",data);\n}\nasync function getOrderById(orderId) {\n    console.log('front service order id', orderId);\n    // return await storageService.get(STORAGE_KEY, orderId);\n    return await httpService.get(`order/${orderId}`);\n}\n//API CARDCOM\nasync function charge(_productName, _price, orderId) {\n    console.log('order service orderId',orderId);\n\n    const params = {\n        TerminalNumber: 1000,\n        Operation: 1,\n        UserName: \"barak9611\",\n        SumToBill: _price,\n        CoinId: 1,\n        Language: \"he\",\n        ProductName: _productName,\n        APILevel: 10,\n        Codepage: 65001,\n        SuccessRedirectUrl: `http://localhost:3000/#/payment/success/${orderId}`,\n        ErrorRedirectUrl: \"http://www.ynet.co.il\",\n        IndicatorUrl: \"http://www.site.com/hide.aspx\",\n    };\n\n    const data = `TerminalNumber=${params.TerminalNumber}&Operation=1&UserName=${params.UserName}&SumToBill=${params.SumToBill}&CoinId=${params.CoinId}&Language=${params.Language}&ProductName=${params.ProductName}&APILevel=10&Codepage=65001&SuccessRedirectUrl=${params.SuccessRedirectUrl}&ErrorRedirectUrl=${params.ErrorRedirectUrl}&IndicatorUrl=http://www.site.com/hide.aspx`;\n    const endPoint = \"https://secure.cardcom.solutions/Interface/LowProfile.aspx\";\n    return httpService.post(endPoint, data);\n}\nasync function getPaymentDetails(lowProfileCode) {\n    console.log('getPaymentDetails order.service',lowProfileCode);\n    const params = {\n        TerminalNumber: 1000,\n        UserName: \"barak9611\",\n        LowProfileCode : lowProfileCode\n    };\n\n    const data = `TerminalNumber=${params.TerminalNumber}&username=${params.UserName}&lowprofilecode=${params.LowProfileCode}`;\n    const endPoint = \"https://secure.cardcom.solutions/Interface/BillGoldGetLowProfileIndicator.aspx\";\n    return httpService.post(endPoint, data);\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}